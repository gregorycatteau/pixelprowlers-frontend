<template>
  <div :class="[pageClass, 'min-h-screen text-gray-900 dark:text-gray-100']">
    <NuxtLayout>
      <NuxtPage />
    </NuxtLayout>
  </div>
</template>

<script setup lang="ts">
import { useRoute, useHead } from 'nuxt/app'
import { computed } from 'vue'

useHead({
  titleTemplate: (title) =>
    title ? `${title}` : 'Pixelprowlers.io | Le web Ã©thique pour tous',
  meta: [
    { charset: 'utf-8' },
    { name: 'viewport', content: 'width=device-width, initial-scale=1' },
    {
      name: 'description',
      content: 'Pixelprowlers.io - CrÃ©ation de sites web engagÃ©s, sÃ©curisÃ©s et accessibles.'
    }
  ],
  link: [{ rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }]
})

const route = useRoute()

const pageClass = computed(() => {
  // âœ… On applique le fond uniquement sur les pages dâ€™articles dynamiques
  if (route.name === 'blog-slug') {
    return 'article-page-bg'
  }
  return ''
})
</script>

<style>
@reference "@/assets/css/main.css";

/* ðŸŒŒ Fond spÃ©cifique aux pages dâ€™articles dynamiques */
.article-page-bg {
  background-image: url('/fond-ecran.png');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  background-repeat: no-repeat;
}
</style>


